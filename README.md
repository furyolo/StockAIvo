# StockAIvo - æ™ºèƒ½ç¾è‚¡æ•°æ®ä¸åˆ†æå¹³å°

StockAIvo æ˜¯ä¸€ä¸ªå…¨æ ˆçš„æ™ºèƒ½ç¾è‚¡æ•°æ®ä¸åˆ†æå¹³å°ï¼Œæä¾›å®æ—¶è‚¡ç¥¨æ•°æ®æŸ¥è¯¢ã€å¯è§†åŒ–å›¾è¡¨å±•ç¤ºå’ŒåŸºäºå¤šAgentååŒçš„AIæŠ•èµ„åˆ†ææœåŠ¡ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–æŠ€æœ¯æ ˆï¼Œå®ç°äº†é«˜æ•ˆçš„æ•°æ®å¤„ç†ã€æ™ºèƒ½ç¼“å­˜ç­–ç•¥å’Œæµå¼AIåˆ†æåŠŸèƒ½ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„
ç³»ç»Ÿé‡‡ç”¨ç°ä»£åŒ–çš„å¾®æœåŠ¡æ¶æ„ï¼Œå®ç°äº†å‰åç«¯åˆ†ç¦»ï¼Œç¡®ä¿äº†å„æ¨¡å—çš„ç‹¬ç«‹æ€§å’Œå¯æ‰©å±•æ€§ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ (React)   â”‚â”€â”€â”€â”€â”‚  åç«¯ (FastAPI)  â”‚â”€â”€â”€â”€â”‚  æ•°æ®æº (AKShare) â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ TradingView   â”‚    â”‚ â€¢ æ•°æ®æœåŠ¡       â”‚    â”‚ â€¢ ç¾è‚¡å®æ—¶æ•°æ®   â”‚
â”‚ â€¢ è‚¡ç¥¨æœç´¢      â”‚    â”‚ â€¢ AIåˆ†æå¼•æ“     â”‚    â”‚ â€¢ å†å²Kçº¿æ•°æ®    â”‚
â”‚ â€¢ AIåˆ†æå±•ç¤º    â”‚    â”‚ â€¢ ç¼“å­˜ç®¡ç†       â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Redis (ç¼“å­˜)    â”‚  â”‚ PostgreSQL     â”‚
            â”‚                â”‚  â”‚ (æŒä¹…åŒ–å­˜å‚¨)    â”‚
            â”‚ â€¢ çƒ­ç‚¹æ•°æ®ç¼“å­˜  â”‚  â”‚ â€¢ è‚¡ç¥¨åŸºç¡€ä¿¡æ¯  â”‚
            â”‚ â€¢ å¾…ä¿å­˜æ•°æ®    â”‚  â”‚ â€¢ å†å²ä»·æ ¼æ•°æ®  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶

#### ğŸ¨ å‰ç«¯ (Frontend)
- **æŠ€æœ¯æ ˆ:** React 19 + TypeScript + Vite + TailwindCSS + shadcn/ui
- **æ ¸å¿ƒåŠŸèƒ½:**
  - ğŸ“Š **TradingViewå›¾è¡¨:** åŸºäº `lightweight-charts` çš„ä¸“ä¸šKçº¿å›¾è¡¨
  - ğŸ” **æ™ºèƒ½è‚¡ç¥¨æœç´¢:** æ”¯æŒæ¨¡ç³ŠåŒ¹é…å’Œå®æ—¶å»ºè®®
  - ğŸ¤– **AIåˆ†æå±•ç¤º:** æµå¼æ˜¾ç¤ºå¤šAgentåˆ†æç»“æœ
  - ğŸ“± **å“åº”å¼è®¾è®¡:** é€‚é…å„ç§è®¾å¤‡å°ºå¯¸

#### âš¡ åç«¯ (Backend)
- **APIå±‚:** FastAPI + Uvicornï¼Œæä¾›é«˜æ€§èƒ½å¼‚æ­¥RESTful API
- **æ ¸å¿ƒæœåŠ¡:**
  - **æ•°æ®æœåŠ¡ (`DataService`):** å®ç°ä¸‰çº§ç¼“å­˜ç­–ç•¥ (Redis â†’ PostgreSQL â†’ AKShare)
    - æ™ºèƒ½å‘¨çº¿æ•°æ®å¤„ç†ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§
    - è‡ªåŠ¨å¤„ç†å¸‚åœºå‡æœŸå’Œäº¤æ˜“æ—¥å†
  - **AIç¼–æ’å™¨ (`LangGraphOrchestrator`):** åŸºäºLangGraphçš„å¤šAgentååŒåˆ†æ
  - **æœç´¢æœåŠ¡ (`SearchService`):** é«˜æ€§èƒ½è‚¡ç¥¨ç¬¦å·æœç´¢å’Œå»ºè®®
  - **åå°è°ƒåº¦å™¨:** APScheduleré©±åŠ¨çš„æ•°æ®æŒä¹…åŒ–ä»»åŠ¡

#### ğŸ—„ï¸ æ•°æ®å­˜å‚¨å±‚
- **PostgreSQL:** ä¸»æ•°æ®åº“ï¼Œå­˜å‚¨è‚¡ç¥¨åŸºç¡€ä¿¡æ¯å’Œå†å²ä»·æ ¼æ•°æ®
- **Redis:** é«˜é€Ÿç¼“å­˜ï¼Œæ”¯æŒé€šç”¨ç¼“å­˜å’Œå¾…ä¿å­˜æ•°æ®ç¼“å­˜
- **AKShare:** ç¬¬ä¸‰æ–¹æ•°æ®æºï¼Œæä¾›å®æ—¶ç¾è‚¡æ•°æ®

#### ğŸ¤– AIåˆ†æå¼•æ“
åŸºäº **LangGraph** æ„å»ºçš„å¤šAgentååŒç³»ç»Ÿï¼š
- **æ•°æ®æ”¶é›†Agent:** è·å–å’Œé¢„å¤„ç†è‚¡ç¥¨æ•°æ®
- **æŠ€æœ¯åˆ†æAgent:** æŠ€æœ¯æŒ‡æ ‡åˆ†æå’Œè¶‹åŠ¿åˆ¤æ–­
- **åŸºæœ¬é¢åˆ†æAgent:** è´¢åŠ¡æ•°æ®å’Œå…¬å¸åŸºæœ¬é¢è¯„ä¼°
- **æ–°é—»æƒ…æ„ŸAgent:** æ–°é—»èˆ†æƒ…å’Œå¸‚åœºæƒ…ç»ªåˆ†æ
- **ç»¼åˆåˆ†æAgent:** æ•´åˆå„Agentç»“æœï¼Œç”Ÿæˆæœ€ç»ˆæŠ•èµ„å»ºè®®

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ“ˆ æ•°æ®ç®¡ç†
- **ä¸‰çº§ç¼“å­˜ç­–ç•¥:** Redis â†’ PostgreSQL â†’ AKShareï¼Œç¡®ä¿æ•°æ®è·å–çš„é«˜æ•ˆæ€§å’Œå¯é æ€§
- **å¤šæ—¶é—´ç²’åº¦æ”¯æŒ:** æ—¥çº¿ã€å‘¨çº¿ã€å°æ—¶çº¿æ•°æ®ï¼Œæ»¡è¶³ä¸åŒåˆ†æéœ€æ±‚
- **æ™ºèƒ½æ•°æ®è¡¥å…¨:** è‡ªåŠ¨æ£€æµ‹ç¼ºå¤±æ•°æ®å¹¶ä»æœ€ä¼˜æ•°æ®æºè·å–
- **æ•°æ®å®Œæ•´æ€§ä¿éšœ:** æ™ºèƒ½å¤„ç†å‘¨çº¿æ•°æ®ï¼Œé¿å…è·å–ä¸å®Œæ•´çš„å½“å‰å‘¨æ•°æ®
- **å¸‚åœºæ—¥å†é›†æˆ:** è‡ªåŠ¨å¤„ç†ç¾è‚¡äº¤æ˜“æ—¥å†å’Œå‡æœŸï¼Œç¡®ä¿æ•°æ®å‡†ç¡®æ€§
- **åå°æŒä¹…åŒ–:** å¼‚æ­¥æ•°æ®æŒä¹…åŒ–ï¼Œä¸å½±å“ç”¨æˆ·ä½“éªŒ
- **äº¤æ˜“æ—¥å†æ„ŸçŸ¥:** åŸºäºNYSEäº¤æ˜“æ—¥å†çš„æ™ºèƒ½æ—¥æœŸå¤„ç†

### ğŸ¤– AIåˆ†æç³»ç»Ÿ
- **å¤šAgentååŒ:** åŸºäºLangGraphçš„åˆ†å¸ƒå¼AIåˆ†ææ¶æ„
- **æµå¼åˆ†æ:** å®æ—¶æµå¼è¾“å‡ºåˆ†æç»“æœï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- **å¤šç»´åº¦åˆ†æ:** æŠ€æœ¯é¢ã€åŸºæœ¬é¢ã€æƒ…æ„Ÿé¢çš„ç»¼åˆåˆ†æ
- **è‡ªå®šä¹‰æ—¶é—´èŒƒå›´:** æ”¯æŒçµæ´»çš„åˆ†ææ—¶é—´çª—å£è®¾ç½®
- **æ™ºèƒ½æŠ¥å‘Šç”Ÿæˆ:** è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–çš„æŠ•èµ„åˆ†ææŠ¥å‘Š

### ğŸ” æœç´¢ä¸äº¤äº’
- **æ™ºèƒ½è‚¡ç¥¨æœç´¢:** æ”¯æŒè‚¡ç¥¨ä»£ç ã€å…¬å¸åç§°çš„æ¨¡ç³ŠåŒ¹é…
- **å®æ—¶æœç´¢å»ºè®®:** è¾“å…¥æ—¶çš„å®æ—¶æœç´¢å»ºè®®åŠŸèƒ½
- **ä¸“ä¸šå›¾è¡¨å±•ç¤º:** åŸºäºTradingViewçš„ä¸“ä¸šçº§Kçº¿å›¾è¡¨
- **å“åº”å¼ç•Œé¢:** é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡çš„ç°ä»£åŒ–UI

### ğŸ› ï¸ å¼€å‘ä¸è¿ç»´
- **ç°ä»£åŒ–å·¥å…·é“¾:** uv (Python) + pnpm (Node.js) çš„é«˜æ•ˆåŒ…ç®¡ç†
- **å®Œå–„çš„æµ‹è¯•è¦†ç›–:** å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•
- **æ•°æ®åº“è¿ç§»:** è‡ªåŠ¨åŒ–çš„æ•°æ®åº“ç»“æ„ç®¡ç†
- **å¥åº·æ£€æŸ¥:** å®Œæ•´çš„ç³»ç»Ÿå¥åº·ç›‘æ§ç«¯ç‚¹
- **å®¹å™¨åŒ–æ”¯æŒ:** Dockerå‹å¥½çš„é¡¹ç›®ç»“æ„

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **æ ¸å¿ƒæ¡†æ¶:** Python 3.12+ + FastAPI + Uvicorn
- **æ•°æ®å¤„ç†:** Pandas + SQLAlchemy + Alembic
- **AIæ¡†æ¶:** LangGraph + LangChain + Google Gemini/OpenAI
- **ç¼“å­˜:** Redis + è‡ªå®šä¹‰ç¼“å­˜ç®¡ç†å™¨
- **ä»»åŠ¡è°ƒåº¦:** APScheduler
- **æ•°æ®æº:** AKShare + pandas-market-calendars

### å‰ç«¯æŠ€æœ¯
- **æ ¸å¿ƒæ¡†æ¶:** React 19 + TypeScript + Vite
- **UIç»„ä»¶:** TailwindCSS + shadcn/ui + Radix UI
- **å›¾è¡¨åº“:** TradingView Lightweight Charts
- **å·¥å…·åº“:** date-fns + clsx + lucide-react
- **æµ‹è¯•:** Vitest + Testing Library

### æ•°æ®åº“ä¸ç¼“å­˜
- **ä¸»æ•°æ®åº“:** PostgreSQL (è‚¡ç¥¨æ•°æ®æŒä¹…åŒ–)
- **ç¼“å­˜ç³»ç»Ÿ:** Redis (å¤šçº§ç¼“å­˜ç­–ç•¥)
- **æ•°æ®æº:** AKShare API (å®æ—¶ç¾è‚¡æ•°æ®)

### å¼€å‘å·¥å…·
- **åŒ…ç®¡ç†:** uv (Python) + pnpm (Node.js)
- **ä»£ç è´¨é‡:** ESLint + TypeScript + pytest
- **ç‰ˆæœ¬æ§åˆ¶:** Git + è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **Python:** 3.12+
- **Node.js:** 18+
- **PostgreSQL:** 12+
- **Redis:** 6+
- **åŒ…ç®¡ç†å™¨:** uv (Python) + pnpm (Node.js)

### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/StockAIvo.git
cd StockAIvo
```

### 2ï¸âƒ£ ç¯å¢ƒé…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL="postgresql://postgres:password@localhost:5432/stockaivo"

# Redisé…ç½® (å¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨æœ¬åœ°Redis)
REDIS_URL="redis://localhost:6379"

# AIæœåŠ¡é…ç½® (äºŒé€‰ä¸€)
# é€‰é¡¹1: Google Gemini (æ¨è)
GEMINI_API_KEY="your_google_api_key"
GEMINI_MODEL_NAME="gemini-1.5-pro-latest"

# é€‰é¡¹2: OpenAIå…¼å®¹API
# OPENAI_API_BASE="http://localhost:1234/v1"
# OPENAI_API_KEY="sk-your-key-here"
# OPENAI_MODEL_NAME="gpt-4"
```

> ğŸ’¡ **æç¤º:** è¯¦ç»†çš„é…ç½®è¯´æ˜è¯·å‚è€ƒ [CONFIGURATION.md](CONFIGURATION.md)

### 3ï¸âƒ£ åç«¯è®¾ç½®

```bash
# å®‰è£…uv (å¦‚æœå°šæœªå®‰è£…)
curl -LsSf https://astral.sh/uv/install.sh | sh

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–
uv sync

# å®‰è£…å¼€å‘ä¾èµ– (å¯é€‰)
uv sync --extra dev

# æ•°æ®åº“åˆå§‹åŒ– (å¯é€‰ï¼Œé¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»ºè¡¨)
# å¦‚éœ€æ‰‹åŠ¨è¿ç§»ï¼Œå¯è¿è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬
```

### 4ï¸âƒ£ å‰ç«¯è®¾ç½®

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…pnpm (å¦‚æœå°šæœªå®‰è£…)
npm install -g pnpm

# å®‰è£…ä¾èµ–
pnpm install
```

### 5ï¸âƒ£ å¯åŠ¨æœåŠ¡

#### ğŸ”§ å¼€å‘ç¯å¢ƒ

**å¯åŠ¨åç«¯æœåŠ¡** (ç»ˆç«¯1):
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
uv run dev
```
- æœåŠ¡åœ°å€: `http://127.0.0.1:8000`
- APIæ–‡æ¡£: `http://127.0.0.1:8000/docs`
- æ”¯æŒçƒ­é‡è½½

**å¯åŠ¨å‰ç«¯æœåŠ¡** (ç»ˆç«¯2):
```bash
# åœ¨frontendç›®å½•
cd frontend
pnpm dev
```
- æœåŠ¡åœ°å€: `http://localhost:5173`
- æ”¯æŒçƒ­é‡è½½å’Œå¿«é€Ÿåˆ·æ–°

#### ğŸš€ ç”Ÿäº§ç¯å¢ƒ

**åç«¯ç”Ÿäº§éƒ¨ç½²:**
```bash
uv run start
# æˆ–è€…
uv run uvicorn main:app --host 0.0.0.0 --port 8000
```

**å‰ç«¯ç”Ÿäº§æ„å»º:**
```bash
cd frontend
pnpm build
pnpm preview  # é¢„è§ˆæ„å»ºç»“æœ
```

### 6ï¸âƒ£ éªŒè¯å®‰è£…

è®¿é—® `http://localhost:5173` æŸ¥çœ‹å‰ç«¯ç•Œé¢ï¼Œæˆ–è®¿é—® `http://127.0.0.1:8000/health` æ£€æŸ¥åç«¯å¥åº·çŠ¶æ€ã€‚

## ğŸ“š API æ–‡æ¡£

### ğŸ”— æ ¸å¿ƒç«¯ç‚¹

#### ğŸ“Š è‚¡ç¥¨æ•°æ® API
```http
GET /stocks/{ticker}/daily?start_date=2024-01-01&end_date=2024-12-31
GET /stocks/{ticker}/weekly?start_date=2024-01-01&end_date=2024-12-31
GET /stocks/{ticker}/hourly?start_date=2024-01-01&end_date=2024-12-31
```

**å‚æ•°è¯´æ˜:**
- `ticker`: è‚¡ç¥¨ä»£ç  (å¦‚: AAPL, TSLA, MSFT)
- `start_date`: å¼€å§‹æ—¥æœŸ (YYYY-MM-DD, å¯é€‰)
- `end_date`: ç»“æŸæ—¥æœŸ (YYYY-MM-DD, å¯é€‰)

**å“åº”ç¤ºä¾‹:**
```json
{
  "ticker": "AAPL",
  "period": "daily",
  "data": [
    {
      "date": "2024-01-01",
      "open": 150.00,
      "high": 155.00,
      "low": 149.00,
      "close": 154.00,
      "volume": 1000000
    }
  ]
}
```

#### ğŸ” è‚¡ç¥¨æœç´¢ API
```http
GET /search/stocks?q=apple
GET /search/stocks/suggestions?q=app
GET /search/health
```

#### ğŸ¤– AI åˆ†æ API
```http
POST /ai/analyze
Content-Type: application/json

{
  "ticker": "AAPL",
  "date_range_option": "3m",
  "custom_date_range": {
    "start_date": "2024-01-01",
    "end_date": "2024-03-31"
  }
}
```

**æµå¼å“åº”:** æ”¯æŒServer-Sent Events (SSE)ï¼Œå®æ—¶è¿”å›å„Agentçš„åˆ†æç»“æœã€‚

#### ğŸ¥ ç³»ç»Ÿç›‘æ§ API
```http
GET /health              # ç³»ç»Ÿå¥åº·æ£€æŸ¥
GET /cache-stats         # ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
GET /check-pending-data  # æ£€æŸ¥å¾…æŒä¹…åŒ–æ•°æ®
POST /persist-data       # æ‰‹åŠ¨è§¦å‘æ•°æ®æŒä¹…åŒ–
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
StockAIvo/
â”œâ”€â”€ ğŸ“ frontend/                    # ğŸ¨ Reactå‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/          # UIç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ StockSearch.tsx     # è‚¡ç¥¨æœç´¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ TradingViewChart.tsx # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AIAnalysis.tsx      # AIåˆ†æå±•ç¤º
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ ui/              # shadcn/uiç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ App.tsx                 # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.tsx                # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ package.json                # å‰ç«¯ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ vite.config.ts              # Viteé…ç½®
â”‚   â””â”€â”€ tailwind.config.js          # TailwindCSSé…ç½®
â”‚
â”œâ”€â”€ ğŸ“ stockaivo/                   # ğŸš€ åç«¯æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ ai/                      # ğŸ¤– AIåˆ†æå¼•æ“
â”‚   â”‚   â”œâ”€â”€ orchestrator.py         # LangGraphç¼–æ’å™¨
â”‚   â”‚   â”œâ”€â”€ agents.py               # å„ç±»åˆ†æAgent
â”‚   â”‚   â”œâ”€â”€ llm_service.py          # LLMæœåŠ¡å°è£…
â”‚   â”‚   â”œâ”€â”€ tools.py                # AIå·¥å…·é›†
â”‚   â”‚   â””â”€â”€ state.py                # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“ routers/                 # ğŸ›£ï¸ APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ stocks.py               # è‚¡ç¥¨æ•°æ®API
â”‚   â”‚   â”œâ”€â”€ search.py               # æœç´¢API
â”‚   â”‚   â””â”€â”€ ai.py                   # AIåˆ†æAPI
â”‚   â”œâ”€â”€ ğŸ“ scripts/                 # ğŸ”§ è¿è¡Œè„šæœ¬
â”‚   â”‚   â””â”€â”€ run.py                  # å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ data_service.py             # ğŸ“Š æ ¸å¿ƒæ•°æ®æœåŠ¡
â”‚   â”œâ”€â”€ data_provider.py            # ğŸ”Œ æ•°æ®æºé€‚é…å™¨
â”‚   â”œâ”€â”€ cache_manager.py            # ğŸ’¾ ç¼“å­˜ç®¡ç†å™¨
â”‚   â”œâ”€â”€ database.py                 # ğŸ—„ï¸ æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ database_writer.py          # âœï¸ æ•°æ®åº“å†™å…¥
â”‚   â”œâ”€â”€ search_service.py           # ğŸ” æœç´¢æœåŠ¡
â”‚   â”œâ”€â”€ background_scheduler.py     # â° åå°è°ƒåº¦å™¨
â”‚   â”œâ”€â”€ models.py                   # ğŸ“‹ æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ schemas.py                  # ğŸ“ APIæ¨¡å¼
â”‚
â”œâ”€â”€ ğŸ“ database_migrations/         # ğŸ”„ æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ create_search_indexes.py    # æœç´¢ç´¢å¼•åˆ›å»º
â”‚   â””â”€â”€ *.sql                       # SQLè¿ç§»è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ tests/                       # ğŸ§ª æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ test_data_service.py        # æ•°æ®æœåŠ¡æµ‹è¯•
â”‚   â”œâ”€â”€ test_search_*.py            # æœç´¢åŠŸèƒ½æµ‹è¯•
â”‚   â””â”€â”€ test_*.py                   # å…¶ä»–æµ‹è¯•
â”‚
â”œâ”€â”€ ğŸ“ memory-bank/                 # ğŸ“š é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ productContext.md          # äº§å“ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ progress.md                 # å¼€å‘è¿›åº¦
â”‚   â””â”€â”€ *.md                        # å…¶ä»–æ–‡æ¡£
â”‚
â”œâ”€â”€ main.py                         # ğŸšª FastAPIåº”ç”¨å…¥å£
â”œâ”€â”€ pyproject.toml                  # ğŸ“¦ Pythoné¡¹ç›®é…ç½®
â”œâ”€â”€ CONFIGURATION.md                # âš™ï¸ é…ç½®è¯´æ˜
â”œâ”€â”€ projectBrief.md                 # ğŸ“‹ é¡¹ç›®ç®€ä»‹
â””â”€â”€ README.md                       # ğŸ“– é¡¹ç›®è¯´æ˜
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# å®‰è£…å¼€å‘ä¾èµ–
uv sync --extra dev

# è¿è¡Œæ‰€æœ‰åç«¯æµ‹è¯•
uv run pytest tests/ -v

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
uv run pytest tests/test_data_service.py -v

# è¿è¡Œæ€§èƒ½æµ‹è¯•
uv run python tests/test_search_performance.py

# å‰ç«¯æµ‹è¯•
cd frontend
pnpm test
```

### æµ‹è¯•è¦†ç›–

é¡¹ç›®åŒ…å«ä»¥ä¸‹æµ‹è¯•ç±»å‹ï¼š
- **å•å…ƒæµ‹è¯•:** æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æµ‹è¯•
- **é›†æˆæµ‹è¯•:** APIç«¯ç‚¹å’Œæ•°æ®åº“äº¤äº’æµ‹è¯•
- **æ€§èƒ½æµ‹è¯•:** æœç´¢å’Œæ•°æ®æŸ¥è¯¢æ€§èƒ½æµ‹è¯•
- **AIæµ‹è¯•:** LangGraphå·¥ä½œæµæµ‹è¯•

## ğŸ”§ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

- **Python:** éµå¾ªPEP 8è§„èŒƒï¼Œä½¿ç”¨ç±»å‹æ³¨è§£
- **TypeScript:** ä¸¥æ ¼æ¨¡å¼ï¼Œä½¿ç”¨ESLintè§„èŒƒ
- **æäº¤ä¿¡æ¯:** ä½¿ç”¨çº¦å®šå¼æäº¤æ ¼å¼

### è°ƒè¯•æŠ€å·§

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
export LOG_LEVEL=DEBUG
uv run dev

# æŸ¥çœ‹ç¼“å­˜çŠ¶æ€
curl http://127.0.0.1:8000/cache-stats

# æ£€æŸ¥ç³»ç»Ÿå¥åº·
curl http://127.0.0.1:8000/health
```

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### v1.1.0 (2025-07-08)

#### ğŸ”§ é‡è¦ä¿®å¤
- **å‘¨çº¿æ•°æ®è·å–ä¼˜åŒ–**: ä¿®å¤äº†å‘¨çº¿æ•°æ®è·å–æ—¶å¯èƒ½åŒ…å«ä¸å®Œæ•´å½“å‰å‘¨æ•°æ®çš„é—®é¢˜
  - æ–°å¢ `_get_latest_complete_weekly_end_date()` å‡½æ•°ï¼Œæ™ºèƒ½å¤„ç†å‘¨çº¿æ•°æ®ç»“æŸæ—¥æœŸ
  - **å‘¨ä¸€åˆ°å‘¨å››**: ä½¿ç”¨ä¸Šä¸€ä¸ªå®Œæ•´å‘¨çš„æœ€åäº¤æ˜“æ—¥ï¼Œé¿å…ä¸å®Œæ•´æ•°æ®
  - **å‘¨äº”ï¼ˆäº¤æ˜“æ—¥ï¼‰**: ä½¿ç”¨å½“å‰å‘¨äº”ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§
  - **å‘¨äº”ï¼ˆå‡æœŸï¼‰**: ä½¿ç”¨æœ¬å‘¨æœ€åäº¤æ˜“æ—¥ï¼ˆå¦‚å‘¨å››ï¼‰ï¼Œä¿æŒæ•°æ®è¿ç»­æ€§
  - **å‘¨æœ«**: ä½¿ç”¨æœ¬å‘¨æœ€åäº¤æ˜“æ—¥
  - ä¼˜åŒ–æ—¥å¿—æ˜¾ç¤ºï¼Œä½¿ç”¨ä¸­æ–‡æ˜ŸæœŸåç§°ï¼ˆ"å‘¨äºŒ"è€Œé"å‘¨2"ï¼‰

#### âœ¨ æŠ€æœ¯æ”¹è¿›
- å¢å¼ºäº†å¸‚åœºå‡æœŸå¤„ç†é€»è¾‘ï¼ˆå¦‚ç¾å›½ç‹¬ç«‹æ—¥ç­‰ï¼‰
- å®Œå–„äº†å•å…ƒæµ‹è¯•è¦†ç›–ï¼Œç¡®ä¿å„ç§è¾¹ç•Œæƒ…å†µçš„æ­£ç¡®å¤„ç†
- æ”¹è¿›äº†é”™è¯¯æ—¥å¿—çš„å¯è¯»æ€§å’Œè°ƒè¯•ä¿¡æ¯

#### ğŸ¯ å½±å“èŒƒå›´
- æ‰€æœ‰å‘¨çº¿æ•°æ®APIè°ƒç”¨ (`/stocks/{ticker}/weekly`)
- AIåˆ†æä¸­çš„å‘¨çº¿æ•°æ®å¤„ç†
- æ•°æ®ç¼“å­˜å’ŒæŒä¹…åŒ–é€»è¾‘

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. **Fork** æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/amazing-feature`
5. æäº¤ **Pull Request**

### è´¡çŒ®ç±»å‹

- ğŸ› Bugä¿®å¤
- âœ¨ æ–°åŠŸèƒ½å¼€å‘
- ğŸ“š æ–‡æ¡£æ”¹è¿›
- ğŸ¨ UI/UXä¼˜åŒ–
- âš¡ æ€§èƒ½ä¼˜åŒ–
- ğŸ§ª æµ‹è¯•è¦†ç›–

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

## ğŸ™ è‡´è°¢

- [AKShare](https://github.com/akfamily/akshare) - ä¼˜ç§€çš„é‡‘èæ•°æ®æ¥å£
- [LangGraph](https://github.com/langchain-ai/langgraph) - å¼ºå¤§çš„AIå·¥ä½œæµæ¡†æ¶
- [TradingView](https://www.tradingview.com/) - ä¸“ä¸šçš„å›¾è¡¨åº“
- [shadcn/ui](https://ui.shadcn.com/) - ç°ä»£åŒ–çš„UIç»„ä»¶åº“

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼**

[ğŸ› æŠ¥å‘ŠBug](https://github.com/your-username/StockAIvo/issues) â€¢ [âœ¨ è¯·æ±‚åŠŸèƒ½](https://github.com/your-username/StockAIvo/issues) â€¢ [ğŸ’¬ è®¨è®º](https://github.com/your-username/StockAIvo/discussions)

</div>